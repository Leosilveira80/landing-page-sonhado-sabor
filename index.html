<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sonhado Sabor - Cardápio Interativo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        
        .categoria-entrada { border-left: 4px solid #f59e0b; }
        .categoria-massa { border-left: 4px solid #ef4444; }
        .categoria-sobremesa { border-left: 4px solid #8b5cf6; }
        
        .item-entrada { background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); }
        .item-massa { background: linear-gradient(135deg, #fecaca 0%, #fca5a5 100%); }
        .item-sobremesa { background: linear-gradient(135deg, #e9d5ff 0%, #ddd6fe 100%); }
        
        .pedido-item { animation: slideIn 0.3s ease-out; }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .btn-quantidade {
            transition: all 0.2s ease;
        }
        
        .btn-quantidade:hover {
            transform: scale(1.1);
        }
        
        .food-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.05;
            pointer-events: none;
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            grid-template-rows: repeat(4, 1fr);
            gap: 2rem;
            padding: 2rem;
        }
        
        .food-item {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-50 to-slate-100 min-h-screen">
    <!-- Fundo com pratos de comida -->
    <div class="food-background">
        <div class="food-item">🍝</div>
        <div class="food-item">🍕</div>
        <div class="food-item">🥗</div>
        <div class="food-item">🍰</div>
        <div class="food-item">🍷</div>
        <div class="food-item">🧀</div>
        <div class="food-item">🥖</div>
        <div class="food-item">🍅</div>
        <div class="food-item">🌿</div>
        <div class="food-item">🍖</div>
        <div class="food-item">🥐</div>
        <div class="food-item">🍯</div>
        <div class="food-item">🥑</div>
        <div class="food-item">🍋</div>
        <div class="food-item">🧄</div>
        <div class="food-item">🫒</div>
        <div class="food-item">🥕</div>
        <div class="food-item">🌶️</div>
        <div class="food-item">🍄</div>
        <div class="food-item">🥒</div>
        <div class="food-item">🍆</div>
        <div class="food-item">🥬</div>
        <div class="food-item">🧅</div>
        <div class="food-item">🍊</div>
    </div>
    
    <div class="container mx-auto px-4 py-8 max-w-7xl">
        <!-- Header -->
        <div class="text-center mb-12">
            <h1 class="text-5xl font-bold text-slate-800 mb-4">Sonhado Sabor</h1>
            <p class="text-xl text-slate-600 font-light">Monte seu pedido perfeito</p>
            <div class="w-24 h-1 bg-gradient-to-r from-amber-400 to-red-500 mx-auto mt-4 rounded-full"></div>
        </div>

        <div class="grid lg:grid-cols-3 gap-8">
            <!-- Cardápio -->
            <div class="lg:col-span-2 space-y-8">
                <!-- Entradas -->
                <div class="categoria-entrada bg-white rounded-2xl shadow-lg p-6">
                    <h2 class="text-2xl font-semibold text-slate-800 mb-6 flex items-center">
                        <span class="w-3 h-3 bg-amber-500 rounded-full mr-3"></span>
                        Entradas
                    </h2>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="item-entrada rounded-xl p-5 cursor-pointer transition-all hover:shadow-md" onclick="adicionarItem('Bruschetta Artesanal', 45, 'entrada')">
                            <h3 class="font-semibold text-slate-800 mb-2">Bruschetta Artesanal</h3>
                            <p class="text-sm text-slate-600 mb-3">Pão italiano, tomate fresco, manjericão e azeite especial</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-bold text-amber-700">R$ 45</span>
                                <span class="text-xs bg-amber-200 text-amber-800 px-2 py-1 rounded-full">Vegetariano</span>
                            </div>
                        </div>
                        
                        <div class="item-entrada rounded-xl p-5 cursor-pointer transition-all hover:shadow-md" onclick="adicionarItem('Carpaccio Premium', 60, 'entrada')">
                            <h3 class="font-semibold text-slate-800 mb-2">Carpaccio Premium</h3>
                            <p class="text-sm text-slate-600 mb-3">Fatias finas de carne, rúcula, parmesão e molho especial</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-bold text-amber-700">R$ 60</span>
                                <span class="text-xs bg-red-200 text-red-800 px-2 py-1 rounded-full">Premium</span>
                            </div>
                        </div>
                        
                        <div class="item-entrada rounded-xl p-5 cursor-pointer transition-all hover:shadow-md" onclick="adicionarItem('Salada Caesar', 40, 'entrada')">
                            <h3 class="font-semibold text-slate-800 mb-2">Salada Caesar</h3>
                            <p class="text-sm text-slate-600 mb-3">Alface romana, croutons, parmesão e molho caesar</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-bold text-amber-700">R$ 40</span>
                                <span class="text-xs bg-green-200 text-green-800 px-2 py-1 rounded-full">Clássico</span>
                            </div>
                        </div>
                        
                        <div class="item-entrada rounded-xl p-5 cursor-pointer transition-all hover:shadow-md" onclick="adicionarItem('Antipasto da Casa', 55, 'entrada')">
                            <h3 class="font-semibold text-slate-800 mb-2">Antipasto da Casa</h3>
                            <p class="text-sm text-slate-600 mb-3">Seleção de frios, queijos, azeitonas e pães especiais</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-bold text-amber-700">R$ 55</span>
                                <span class="text-xs bg-blue-200 text-blue-800 px-2 py-1 rounded-full">Para compartilhar</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Massas -->
                <div class="categoria-massa bg-white rounded-2xl shadow-lg p-6">
                    <h2 class="text-2xl font-semibold text-slate-800 mb-6 flex items-center">
                        <span class="w-3 h-3 bg-red-500 rounded-full mr-3"></span>
                        Massas
                    </h2>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="item-massa rounded-xl p-5 cursor-pointer transition-all hover:shadow-md" onclick="mostrarPersonalizacao('Spaghetti Carbonara', 75)">
                            <h3 class="font-semibold text-slate-800 mb-2">Spaghetti Carbonara</h3>
                            <p class="text-sm text-slate-600 mb-3">Massa al dente com molho cremoso, bacon e parmesão</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-bold text-red-700">R$ 75</span>
                                <span class="text-xs bg-yellow-200 text-yellow-800 px-2 py-1 rounded-full">Personalizável</span>
                            </div>
                        </div>
                        
                        <div class="item-massa rounded-xl p-5 cursor-pointer transition-all hover:shadow-md" onclick="mostrarPersonalizacao('Penne Arrabbiata', 70)">
                            <h3 class="font-semibold text-slate-800 mb-2">Penne Arrabbiata</h3>
                            <p class="text-sm text-slate-600 mb-3">Penne com molho de tomate picante e manjericão fresco</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-bold text-red-700">R$ 70</span>
                                <span class="text-xs bg-orange-200 text-orange-800 px-2 py-1 rounded-full">Picante</span>
                            </div>
                        </div>
                        
                        <div class="item-massa rounded-xl p-5 cursor-pointer transition-all hover:shadow-md" onclick="mostrarPersonalizacao('Fettuccine Alfredo', 80)">
                            <h3 class="font-semibold text-slate-800 mb-2">Fettuccine Alfredo</h3>
                            <p class="text-sm text-slate-600 mb-3">Fettuccine com molho branco cremoso e parmesão</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-bold text-red-700">R$ 80</span>
                                <span class="text-xs bg-purple-200 text-purple-800 px-2 py-1 rounded-full">Cremoso</span>
                            </div>
                        </div>
                        
                        <div class="item-massa rounded-xl p-5 cursor-pointer transition-all hover:shadow-md" onclick="mostrarPersonalizacao('Lasanha Bolonhesa', 90)">
                            <h3 class="font-semibold text-slate-800 mb-2">Lasanha Bolonhesa</h3>
                            <p class="text-sm text-slate-600 mb-3">Camadas de massa, molho bolonhesa e queijos derretidos</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-bold text-red-700">R$ 90</span>
                                <span class="text-xs bg-red-200 text-red-800 px-2 py-1 rounded-full">Especialidade</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sobremesas -->
                <div class="categoria-sobremesa bg-white rounded-2xl shadow-lg p-6">
                    <h2 class="text-2xl font-semibold text-slate-800 mb-6 flex items-center">
                        <span class="w-3 h-3 bg-purple-500 rounded-full mr-3"></span>
                        Sobremesas
                    </h2>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="item-sobremesa rounded-xl p-5 cursor-pointer transition-all hover:shadow-md" onclick="adicionarItem('Tiramisu Clássico', 35, 'sobremesa')">
                            <h3 class="font-semibold text-slate-800 mb-2">Tiramisu Clássico</h3>
                            <p class="text-sm text-slate-600 mb-3">Sobremesa italiana com café, mascarpone e cacau</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-bold text-purple-700">R$ 35</span>
                                <span class="text-xs bg-brown-200 text-brown-800 px-2 py-1 rounded-full">Tradicional</span>
                            </div>
                        </div>
                        
                        <div class="item-sobremesa rounded-xl p-5 cursor-pointer transition-all hover:shadow-md" onclick="adicionarItem('Panna Cotta de Frutas Vermelhas', 40, 'sobremesa')">
                            <h3 class="font-semibold text-slate-800 mb-2">Panna Cotta de Frutas Vermelhas</h3>
                            <p class="text-sm text-slate-600 mb-3">Cremoso italiano com calda de frutas vermelhas</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-bold text-purple-700">R$ 40</span>
                                <span class="text-xs bg-pink-200 text-pink-800 px-2 py-1 rounded-full">Refrescante</span>
                            </div>
                        </div>
                        
                        <div class="item-sobremesa rounded-xl p-5 cursor-pointer transition-all hover:shadow-md" onclick="adicionarItem('Cannoli Siciliano', 30, 'sobremesa')">
                            <h3 class="font-semibold text-slate-800 mb-2">Cannoli Siciliano</h3>
                            <p class="text-sm text-slate-600 mb-3">Massa crocante recheada com ricota doce e pistache</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-bold text-purple-700">R$ 30</span>
                                <span class="text-xs bg-green-200 text-green-800 px-2 py-1 rounded-full">Crocante</span>
                            </div>
                        </div>
                        
                        <div class="item-sobremesa rounded-xl p-5 cursor-pointer transition-all hover:shadow-md" onclick="adicionarItem('Gelato Artesanal', 45, 'sobremesa')">
                            <h3 class="font-semibold text-slate-800 mb-2">Gelato Artesanal</h3>
                            <p class="text-sm text-slate-600 mb-3">Três bolas de gelato italiano nos sabores da casa</p>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-bold text-purple-700">R$ 45</span>
                                <span class="text-xs bg-blue-200 text-blue-800 px-2 py-1 rounded-full">Artesanal</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pedido -->
            <div class="lg:col-span-1">
                <div class="bg-white rounded-2xl shadow-lg p-6 sticky top-8">
                    <h3 class="text-xl font-semibold text-slate-800 mb-4 flex items-center">
                        <span class="w-3 h-3 bg-green-500 rounded-full mr-3"></span>
                        Seu Pedido
                    </h3>
                    
                    <div id="pedido-lista" class="space-y-3 mb-6 min-h-[100px]">
                        <p class="text-slate-500 text-center py-8">Clique nos pratos para adicionar ao seu pedido</p>
                    </div>
                    
                    <div class="border-t pt-4">
                        <div class="flex justify-between items-center text-lg font-semibold mb-4">
                            <span>Total:</span>
                            <span id="total-pedido" class="text-green-600">R$ 0,00</span>
                        </div>
                        
                        <button id="btn-finalizar" onclick="mostrarFormulario()" class="w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-green-600 hover:to-green-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none" disabled>
                            Finalizar Pedido
                        </button>
                        
                        <p class="text-xs text-slate-500 text-center mt-2">Adicione itens para continuar</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal do Formulário -->
    <div id="modal-formulario" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-2xl p-8 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto">
            <div class="text-center mb-6">
                <h3 class="text-2xl font-bold text-slate-800 mb-2">Quase pronto! 🍽️</h3>
                <p class="text-slate-600">Informe seus dados para finalizar o pedido</p>
            </div>
            
            <form id="form-pedido" class="space-y-4">
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-slate-700 mb-2">Nome *</label>
                        <input type="text" id="nome" required class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500" placeholder="Seu nome completo">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-slate-700 mb-2">Telefone *</label>
                        <input type="tel" id="telefone" required class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500" placeholder="(11) 99999-9999">
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-2">E-mail *</label>
                    <input type="email" id="email" required class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500" placeholder="seu@email.com">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-2">Tipo de Entrega</label>
                    <select id="entrega" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500">
                        <option value="balcao">Retirar no balcão</option>
                        <option value="delivery">Delivery</option>
                        <option value="mesa">Consumir no local</option>
                    </select>
                </div>
                
                <div id="endereco-section" class="hidden">
                    <label class="block text-sm font-medium text-slate-700 mb-2">Endereço de Entrega</label>
                    <textarea id="endereco" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500" rows="3" placeholder="Rua, número, bairro, complemento..."></textarea>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-2">Observações</label>
                    <textarea id="observacoes-pedido" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500" rows="2" placeholder="Alguma observação especial sobre o pedido?"></textarea>
                </div>
                
                <div class="bg-slate-50 rounded-lg p-4">
                    <h4 class="font-semibold text-slate-800 mb-2">Resumo do Pedido:</h4>
                    <div id="resumo-pedido" class="text-sm text-slate-600 space-y-1"></div>
                    <div class="border-t mt-3 pt-3 flex justify-between items-center font-semibold">
                        <span>Total:</span>
                        <span id="total-final" class="text-green-600 text-lg"></span>
                    </div>
                </div>
                
                <div class="flex gap-3 mt-6">
                    <button type="button" onclick="fecharFormulario()" class="flex-1 px-4 py-3 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors">
                        Voltar
                    </button>
                    <button type="submit" class="flex-1 px-4 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 transition-all font-semibold">
                        Enviar Pedido
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de Personalização -->
    <div id="modal-personalizacao" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4">
            <h3 id="modal-titulo" class="text-xl font-semibold mb-4"></h3>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-2">Adicionar Proteína (+R$ 15)</label>
                    <select id="proteina-select" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500">
                        <option value="">Sem proteína adicional</option>
                        <option value="frango">Frango Grelhado (+R$ 15)</option>
                        <option value="camarao">Camarão (+R$ 15)</option>
                        <option value="salmao">Salmão (+R$ 15)</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-2">Nível de Tempero</label>
                    <select id="tempero-select" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500">
                        <option value="suave">Suave</option>
                        <option value="medio">Médio</option>
                        <option value="picante">Picante</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-2">Observações</label>
                    <textarea id="observacoes-input" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500" rows="3" placeholder="Alguma preferência especial?"></textarea>
                </div>
            </div>
            
            <div class="flex gap-3 mt-6">
                <button onclick="fecharModal()" class="flex-1 px-4 py-3 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors">
                    Cancelar
                </button>
                <button onclick="confirmarPersonalizacao()" class="flex-1 px-4 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors">
                    Adicionar ao Pedido
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Confirmação -->
    <div id="modal-confirmacao" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4 text-center">
            <div class="text-6xl mb-4">✅</div>
            <h3 class="text-2xl font-bold text-slate-800 mb-2">Pedido Enviado!</h3>
            <p class="text-slate-600 mb-6">Recebemos seu pedido e entraremos em contato em breve para confirmar os detalhes.</p>
            <button onclick="fecharConfirmacao()" class="w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-green-600 hover:to-green-700 transition-all">
                Fazer Novo Pedido
            </button>
        </div>
    </div>

    <script>
        let pedido = [];
        let itemPersonalizacao = null;

        function adicionarItem(nome, preco, categoria) {
            const item = {
                id: Date.now(),
                nome: nome,
                preco: preco,
                categoria: categoria,
                quantidade: 1,
                personalizacao: null
            };
            
            pedido.push(item);
            atualizarPedido();
        }

        function mostrarPersonalizacao(nome, preco) {
            itemPersonalizacao = { nome, preco };
            document.getElementById('modal-titulo').textContent = nome;
            document.getElementById('modal-personalizacao').classList.remove('hidden');
            document.getElementById('modal-personalizacao').classList.add('flex');
        }

        function fecharModal() {
            document.getElementById('modal-personalizacao').classList.add('hidden');
            document.getElementById('modal-personalizacao').classList.remove('flex');
            document.getElementById('proteina-select').value = '';
            document.getElementById('tempero-select').value = 'suave';
            document.getElementById('observacoes-input').value = '';
            itemPersonalizacao = null;
        }

        function confirmarPersonalizacao() {
            if (!itemPersonalizacao) return;
            
            const proteina = document.getElementById('proteina-select').value;
            const tempero = document.getElementById('tempero-select').value;
            const observacoes = document.getElementById('observacoes-input').value;
            
            let precoFinal = itemPersonalizacao.preco;
            let personalizacao = [];
            
            if (proteina) {
                precoFinal += 15;
                const proteinaNomes = {
                    'frango': 'Frango Grelhado',
                    'camarao': 'Camarão',
                    'salmao': 'Salmão'
                };
                personalizacao.push(`+ ${proteinaNomes[proteina]}`);
            }
            
            if (tempero !== 'suave') {
                personalizacao.push(`Tempero: ${tempero}`);
            }
            
            if (observacoes) {
                personalizacao.push(`Obs: ${observacoes}`);
            }
            
            const item = {
                id: Date.now(),
                nome: itemPersonalizacao.nome,
                preco: precoFinal,
                categoria: 'massa',
                quantidade: 1,
                personalizacao: personalizacao.length > 0 ? personalizacao : null
            };
            
            pedido.push(item);
            atualizarPedido();
            fecharModal();
        }

        function alterarQuantidade(id, delta) {
            const item = pedido.find(i => i.id === id);
            if (item) {
                item.quantidade += delta;
                if (item.quantidade <= 0) {
                    removerItem(id);
                } else {
                    atualizarPedido();
                }
            }
        }

        function removerItem(id) {
            pedido = pedido.filter(item => item.id !== id);
            atualizarPedido();
        }

        function atualizarPedido() {
            const lista = document.getElementById('pedido-lista');
            const total = document.getElementById('total-pedido');
            const btnFinalizar = document.getElementById('btn-finalizar');
            
            if (pedido.length === 0) {
                lista.innerHTML = '<p class="text-slate-500 text-center py-8">Clique nos pratos para adicionar ao seu pedido</p>';
                total.textContent = 'R$ 0,00';
                btnFinalizar.disabled = true;
                btnFinalizar.nextElementSibling.textContent = 'Adicione itens para continuar';
                return;
            }
            
            lista.innerHTML = pedido.map(item => `
                <div class="pedido-item bg-slate-50 rounded-lg p-4 border">
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-medium text-slate-800">${item.nome}</h4>
                        <button onclick="removerItem(${item.id})" class="text-red-500 hover:text-red-700 text-sm">✕</button>
                    </div>
                    ${item.personalizacao ? `
                        <div class="text-xs text-slate-600 mb-2">
                            ${item.personalizacao.join(' • ')}
                        </div>
                    ` : ''}
                    <div class="flex justify-between items-center">
                        <div class="flex items-center gap-2">
                            <button onclick="alterarQuantidade(${item.id}, -1)" class="btn-quantidade w-6 h-6 bg-slate-200 hover:bg-slate-300 rounded-full flex items-center justify-center text-sm font-bold">-</button>
                            <span class="w-8 text-center font-medium">${item.quantidade}</span>
                            <button onclick="alterarQuantidade(${item.id}, 1)" class="btn-quantidade w-6 h-6 bg-slate-200 hover:bg-slate-300 rounded-full flex items-center justify-center text-sm font-bold">+</button>
                        </div>
                        <span class="font-semibold text-slate-800">R$ ${(item.preco * item.quantidade).toFixed(2).replace('.', ',')}</span>
                    </div>
                </div>
            `).join('');
            
            const totalValue = pedido.reduce((sum, item) => sum + (item.preco * item.quantidade), 0);
            total.textContent = `R$ ${totalValue.toFixed(2).replace('.', ',')}`;
            
            btnFinalizar.disabled = false;
            btnFinalizar.nextElementSibling.textContent = 'Preencha seus dados para finalizar';
        }

        function mostrarFormulario() {
            if (pedido.length === 0) return;
            
            // Atualizar resumo do pedido
            const resumo = document.getElementById('resumo-pedido');
            const totalFinal = document.getElementById('total-final');
            
            resumo.innerHTML = pedido.map(item => `
                <div class="flex justify-between">
                    <span>${item.quantidade}x ${item.nome}${item.personalizacao ? ' (' + item.personalizacao.join(', ') + ')' : ''}</span>
                    <span>R$ ${(item.preco * item.quantidade).toFixed(2).replace('.', ',')}</span>
                </div>
            `).join('');
            
            const totalValue = pedido.reduce((sum, item) => sum + (item.preco * item.quantidade), 0);
            totalFinal.textContent = `R$ ${totalValue.toFixed(2).replace('.', ',')}`;
            
            document.getElementById('modal-formulario').classList.remove('hidden');
            document.getElementById('modal-formulario').classList.add('flex');
        }

        function fecharFormulario() {
            document.getElementById('modal-formulario').classList.add('hidden');
            document.getElementById('modal-formulario').classList.remove('flex');
        }

        function fecharConfirmacao() {
            document.getElementById('modal-confirmacao').classList.add('hidden');
            document.getElementById('modal-confirmacao').classList.remove('flex');
            
            // Limpar pedido
            pedido = [];
            atualizarPedido();
            
            // Limpar formulário
            document.getElementById('form-pedido').reset();
            document.getElementById('endereco-section').classList.add('hidden');
        }

        // Mostrar/ocultar campo de endereço baseado no tipo de entrega
        document.addEventListener('DOMContentLoaded', function() {
            const entregaSelect = document.getElementById('entrega');
            const enderecoSection = document.getElementById('endereco-section');
            
            entregaSelect.addEventListener('change', function() {
                if (this.value === 'delivery') {
                    enderecoSection.classList.remove('hidden');
                    document.getElementById('endereco').required = true;
                } else {
                    enderecoSection.classList.add('hidden');
                    document.getElementById('endereco').required = false;
                }
            });
            
            // Submissão do formulário
            document.getElementById('form-pedido').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Aqui você pode processar os dados do formulário
                const formData = {
                    nome: document.getElementById('nome').value,
                    telefone: document.getElementById('telefone').value,
                    email: document.getElementById('email').value,
                    entrega: document.getElementById('entrega').value,
                    endereco: document.getElementById('endereco').value,
                    observacoes: document.getElementById('observacoes-pedido').value,
                    pedido: pedido,
                    total: pedido.reduce((sum, item) => sum + (item.preco * item.quantidade), 0)
                };
                
                console.log('Dados do pedido:', formData);
                
                // Fechar formulário e mostrar confirmação
                fecharFormulario();
                document.getElementById('modal-confirmacao').classList.remove('hidden');
                document.getElementById('modal-confirmacao').classList.add('flex');
            });
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97b90ee2e6c742f0',t:'MTc1NzI3ODAxNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
